<div id="search_form" style="display:none;">
  <%= form_for [:admin, @o_single], :method => "get", :remote => true, :html => { :class => 'form-horizontal' } do |f| %>
    <fieldset>
      <legend></legend>

      <% @params_arr.each do |fields, field| %>
        <% field_name = fields.to_s %>
        <% field.each do |settings, field_type| %>
          <div class="control-group">
             <%= f.label field_name.capitalize, :class => 'control-label' %>
             <div class="controls">
                <% if field_type == 'text' %>
                  <%= f.text_field field_name, :value => (session[:search_params] ? session[:search_params][field_name] : ""), :class => 'input-xlarge' %>
                <% end %>
             </div>
           </div>
        <% end %>
      <% end %>
    <%# model_name = params[:model].downcase %>
      <div class="controls">
        <%= f.submit t("general.search"), :class => 'btn btn-primary', :id => 'search_button_id' %>
        <span data-no-turbolink>
        <%= link_to 'Cancel', 'javascript:void(0)', :onclick => '$(this).closest("form").closest("div").hide()', :class => 'btn' %></span>
      </div>

    </fieldset>

  <% end %>
</div>